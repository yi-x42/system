# YOLOv11 æ•¸ä½é›™ç”Ÿåˆ†æç³»çµ± - ç°¡åŒ– ERD

## ğŸ“Š è³‡æ–™è¡¨çµæ§‹

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    YOLOv11 è³‡æ–™åº«æ¶æ§‹                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USERS         â”‚      â”‚   CAMERAS       â”‚      â”‚  YOLO_MODELS    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id (PK)       â”‚      â”‚ â€¢ id (PK)       â”‚      â”‚ â€¢ id (PK)       â”‚
â”‚ â€¢ username      â”‚      â”‚ â€¢ name          â”‚      â”‚ â€¢ name          â”‚
â”‚ â€¢ email         â”‚      â”‚ â€¢ type          â”‚      â”‚ â€¢ version       â”‚
â”‚ â€¢ role          â”‚      â”‚ â€¢ connection    â”‚      â”‚ â€¢ file_path     â”‚
â”‚ â€¢ is_active     â”‚      â”‚ â€¢ location      â”‚      â”‚ â€¢ model_type    â”‚
â”‚ â€¢ created_at    â”‚      â”‚ â€¢ status        â”‚      â”‚ â€¢ is_active     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â”‚ creates                â”‚ uses                   â”‚ processed_by
         â”‚                        â”‚                        â”‚
         â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ANALYSIS_RECORDS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id (PK)                                                   â”‚
â”‚ â€¢ camera_id (FK)                                            â”‚
â”‚ â€¢ video_path                                                â”‚
â”‚ â€¢ status (pending/processing/completed/failed)             â”‚
â”‚ â€¢ created_at, updated_at                                    â”‚
â”‚ â€¢ start_time, end_time                                      â”‚
â”‚ â€¢ total_frames, processed_frames                            â”‚
â”‚ â€¢ metadata (JSON)                                           â”‚
â”‚ â€¢ error_message                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         â”‚ contains               â”‚ generates
         â”‚                        â”‚
         â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DETECTION_RESULTS  â”‚   â”‚  BEHAVIOR_EVENTS    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id (PK)           â”‚   â”‚ â€¢ id (PK)           â”‚
â”‚ â€¢ analysis_id (FK)  â”‚   â”‚ â€¢ analysis_id (FK)  â”‚
â”‚ â€¢ frame_number      â”‚   â”‚ â€¢ event_type        â”‚
â”‚ â€¢ object_class      â”‚   â”‚ â€¢ severity          â”‚
â”‚ â€¢ confidence        â”‚   â”‚ â€¢ description       â”‚
â”‚ â€¢ x_min, y_min      â”‚   â”‚ â€¢ start_frame       â”‚
â”‚ â€¢ x_max, y_max      â”‚   â”‚ â€¢ end_frame         â”‚
â”‚ â€¢ detected_at       â”‚   â”‚ â€¢ event_time        â”‚
â”‚ â€¢ additional_data   â”‚   â”‚ â€¢ event_data        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FILE_UPLOADS    â”‚      â”‚ SYSTEM_LOGS     â”‚      â”‚ SYS_CONFIG      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id (PK)       â”‚      â”‚ â€¢ id (PK)       â”‚      â”‚ â€¢ key (PK)      â”‚
â”‚ â€¢ original_name â”‚      â”‚ â€¢ level         â”‚      â”‚ â€¢ category      â”‚
â”‚ â€¢ stored_name   â”‚      â”‚ â€¢ component     â”‚      â”‚ â€¢ value         â”‚
â”‚ â€¢ file_path     â”‚      â”‚ â€¢ message       â”‚      â”‚ â€¢ description   â”‚
â”‚ â€¢ mime_type     â”‚      â”‚ â€¢ context       â”‚      â”‚ â€¢ data_type     â”‚
â”‚ â€¢ file_size     â”‚      â”‚ â€¢ created_at    â”‚      â”‚ â€¢ updated_at    â”‚
â”‚ â€¢ upload_type   â”‚      â”‚ â€¢ ip_address    â”‚      â”‚ â€¢ updated_by    â”‚
â”‚ â€¢ uploaded_by   â”‚      â”‚ â€¢ user_id (FK)  â”‚      â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ”— é—œè¯é—œä¿‚èªªæ˜

1. **ä½¿ç”¨è€…ç®¡ç†**
   - ä¸€å€‹ä½¿ç”¨è€…å¯ä»¥ç®¡ç†å¤šå°æ”å½±æ©Ÿ
   - ä¸€å€‹ä½¿ç”¨è€…å¯ä»¥ä¸Šå‚³å¤šå€‹æ¨¡å‹
   - ä¸€å€‹ä½¿ç”¨è€…å¯ä»¥å‰µå»ºå¤šå€‹åˆ†æè¨˜éŒ„

2. **åˆ†ææµç¨‹**
   - ä¸€å€‹åˆ†æè¨˜éŒ„ä½¿ç”¨ä¸€å°æ”å½±æ©Ÿ
   - ä¸€å€‹åˆ†æè¨˜éŒ„ä½¿ç”¨ä¸€å€‹ YOLO æ¨¡å‹
   - ä¸€å€‹åˆ†æè¨˜éŒ„ç”¢ç”Ÿå¤šå€‹æª¢æ¸¬çµæœ
   - ä¸€å€‹åˆ†æè¨˜éŒ„ç”¢ç”Ÿå¤šå€‹è¡Œç‚ºäº‹ä»¶

3. **è³‡æ–™è¿½è¹¤**
   - æ‰€æœ‰æ“ä½œéƒ½æœ‰ä½¿ç”¨è€…è¿½è¹¤
   - æ‰€æœ‰è®Šæ›´éƒ½æœ‰æ™‚é–“æˆ³è¨˜
   - é‡è¦æ“ä½œéƒ½æœ‰æ—¥èªŒè¨˜éŒ„

## ğŸ“ˆ è³‡æ–™æµå‘

ä½¿ç”¨è€… â†’ ä¸Šå‚³å½±ç‰‡ â†’ é¸æ“‡æ”å½±æ©Ÿ/æ¨¡å‹ â†’ é–‹å§‹åˆ†æ 
  â†“
å»ºç«‹åˆ†æè¨˜éŒ„ â†’ YOLO è™•ç† â†’ ç”¢ç”Ÿæª¢æ¸¬çµæœ â†’ è­˜åˆ¥è¡Œç‚ºäº‹ä»¶
  â†“
æ›´æ–°åˆ†æç‹€æ…‹ â†’ è¨˜éŒ„ç³»çµ±æ—¥èªŒ â†’ å®Œæˆåˆ†æ

## ğŸ¯ ä¸»è¦ç´¢å¼•

- analysis_records: status, created_at
- detection_results: analysis_id, frame_number
- behavior_events: analysis_id, event_type
- system_logs: level, created_at
- users: username, email

## ğŸ’¾ å„²å­˜ä¼°ç®—

å‡è¨­æ¯æ—¥è™•ç† 10 å€‹å½±ç‰‡ï¼ˆ30åˆ†é˜/1080pï¼‰ï¼š
- analysis_records: ~10 ç­†/æ—¥
- detection_results: ~500,000 ç­†/æ—¥
- behavior_events: ~1,000 ç­†/æ—¥
- system_logs: ~10,000 ç­†/æ—¥

å»ºè­°å®šæœŸæ­¸æª”è¶…é 30 å¤©çš„è³‡æ–™ä»¥ç¶­æŒæ•ˆèƒ½ã€‚

## ğŸ› ï¸ å»ºè­°çš„è³‡æ–™åº«é…ç½®

### PostgreSQL é…ç½®
```sql
-- å»ºç«‹è³‡æ–™åº«
CREATE DATABASE yolov11_system;

-- å•Ÿç”¨ UUID æ“´å±•
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- å»ºç«‹ç”¨æˆ¶å’Œæ¬Šé™
CREATE USER yolo_admin WITH PASSWORD 'secure_password';
GRANT ALL PRIVILEGES ON DATABASE yolov11_system TO yolo_admin;
```

### æ•ˆèƒ½èª¿å„ªåƒæ•¸
```sql
-- æå‡æŸ¥è©¢æ•ˆèƒ½
SET shared_buffers = '256MB';
SET effective_cache_size = '1GB';
SET random_page_cost = 1.1;
SET seq_page_cost = 1.0;

-- æ‰¹é‡æ’å…¥å„ªåŒ–
SET wal_buffers = '16MB';
SET checkpoint_segments = 32;
SET checkpoint_completion_target = 0.9;
```

## ğŸ”§ ç¶­è­·å»ºè­°

1. **å®šæœŸå‚™ä»½**: æ¯æ—¥å…¨é‡å‚™ä»½ + å¢é‡å‚™ä»½
2. **ç´¢å¼•é‡å»º**: é€±æœŸæ€§é‡å»ºç´¢å¼•ä»¥ç¶­æŒæ•ˆèƒ½
3. **çµ±è¨ˆæ›´æ–°**: å®šæœŸæ›´æ–°è¡¨çµ±è¨ˆä¿¡æ¯
4. **ç©ºé–“æ¸…ç†**: æ¸…ç†éæœŸè³‡æ–™å’Œæ—¥èªŒ
5. **ç›£æ§æŸ¥è©¢**: è­˜åˆ¥å’Œå„ªåŒ–æ…¢æŸ¥è©¢

## ğŸ“Š ç›£æ§æŒ‡æ¨™

- è³‡æ–™åº«é€£æ¥æ•¸
- æŸ¥è©¢éŸ¿æ‡‰æ™‚é–“
- è¡¨å¤§å°å¢é•·ç‡
- ç´¢å¼•ä½¿ç”¨ç‡
- ç£ç›¤ç©ºé–“ä½¿ç”¨ç‡
- CPU å’Œè¨˜æ†¶é«”ä½¿ç”¨ç‡
