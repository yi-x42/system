# 攝影機管理功能使用指南

## 🎥 攝影機管理系統

我已經成功為您的 YOLOv11 分析系統添加了完整的攝影機管理功能！

### ✨ 新增功能

1. **攝影機連接配置**
   - USB 攝影機支援
   - RTSP 串流攝影機
   - IP 攝影機
   - 影片檔案播放

2. **即時預覽**
   - 即時畫面顯示
   - 幀率監控
   - 截圖功能

3. **設備管理**
   - 自動掃描可用攝影機
   - 攝影機狀態監控
   - 配置保存與載入

### 🚀 啟動系統

1. 打開 PowerShell 或命令提示字元
2. 切換到 yolo_backend 目錄：
   ```powershell
   cd "d:\project\system\yolo_backend"
   ```

3. 啟動服務：
   ```powershell
   python simple_start.py
   ```

4. 開啟瀏覽器，訪問：
   ```
   http://localhost:8001/admin/
   ```

### 📋 使用攝影機管理

1. **新增攝影機**
   - 點擊側邊欄的「攝影機管理」
   - 選擇攝影機類型（USB、RTSP、IP、檔案）
   - 填入相關配置資訊
   - 點擊「測試連接」確認可用性
   - 保存配置

2. **開始預覽**
   - 在攝影機列表中選擇要使用的攝影機
   - 點擊「開始預覽」
   - 即時畫面將顯示在右側預覽區

3. **攝影機操作**
   - 截圖：保存當前畫面
   - 停止預覽：關閉即時串流
   - 刪除配置：移除攝影機設定

### 🔧 支援的攝影機類型

#### USB 攝影機
- 自動偵測系統連接的 USB 攝影機
- 支援大部分標準 UVC 設備

#### RTSP 串流
- 支援網絡攝影機的 RTSP 協議
- 可配置用戶名和密碼
- 示例 URL：`rtsp://192.168.1.100:554/stream`

#### IP 攝影機
- 支援 HTTP/HTTPS 串流
- 可配置認證資訊

#### 影片檔案
- 支援多種影片格式（MP4、AVI、MOV等）
- 可用於測試和演示

### ⚙️ 配置選項

- **解析度**：設定攝影機的寬度和高度
- **幀率**：設定每秒播放幀數（FPS）
- **自動啟動**：系統啟動時自動連接攝影機

### 🐛 故障排除

1. **攝影機無法連接**
   - 確認攝影機已正確連接
   - 檢查 URL 格式是否正確
   - 確認網絡連通性

2. **預覽畫面黑屏**
   - 檢查攝影機是否被其他程序占用
   - 嘗試重新啟動攝影機
   - 檢查系統權限

3. **低幀率或延遲**
   - 降低解析度設定
   - 減少幀率設定
   - 檢查網絡頻寬

### 📝 API 端點

攝影機管理提供以下 API 端點：

- `GET /admin/api/cameras/scan` - 掃描可用攝影機
- `GET /admin/api/cameras` - 獲取攝影機列表
- `POST /admin/api/cameras` - 新增攝影機配置
- `POST /admin/api/cameras/test` - 測試攝影機連接
- `POST /admin/api/cameras/{id}/start` - 啟動攝影機
- `POST /admin/api/cameras/{id}/stop` - 停止攝影機
- `GET /admin/api/cameras/{id}/frame` - 獲取當前畫面
- `POST /admin/api/cameras/{id}/capture` - 截圖
- `DELETE /admin/api/cameras/{id}` - 刪除攝影機配置

### 🎯 下一步整合

這個攝影機管理系統可以輕鬆整合到您的 YOLOv11 物件辨識工作流程中，實現：

1. 即時物件偵測
2. 多攝影機監控
3. 自動錄影和分析
4. 事件觸發通知

現在您可以開始使用完整的攝影機管理功能了！🎉
